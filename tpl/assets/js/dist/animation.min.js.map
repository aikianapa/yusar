{"version":3,"sources":["animation.js"],"names":["width","$","window","scrollTo","vw","lunitInit","height","vh","ht","offset","scroolly","alias","to","css","position","from","top","bottom","onScroll","ih","Math","ceil","opacity","transform","cssTo","attr","ofy","start","stop","cssFrom","images","length","i","os","z-index","transition","stop1","stop2","plates","$el","$ofs","find","on","setTimeout","abs"],"mappings":"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","file":"animation.min.js","sourcesContent":["var width = $(window).width();\r\n\r\nvar lunitInit = function () {\r\n  window.scrollTo(0, 0);\r\n  var ht = 5000;\r\n  var vh = $(window).height();\r\n  var vw = $(window).width();\r\n  var ih = $(\".scene.scene-2.mis-container img:first-child\").height();\r\n  var offset;\r\n  $('.qbody .staging ').height(ht);\r\n  if ($(window).width() > 0) {\r\n    $(\".to-fix\").scroolly(\r\n      [\r\n        {\r\n          alias: \"before\",\r\n          from: \"\",\r\n          to: \"con-top = top\",\r\n          css: {\r\n            position: \"static\",\r\n          },\r\n        },\r\n        {\r\n          alias: \"fixing\",\r\n          from: \"con-top = top\",\r\n          to: \"con-top + \" + ht + \" = bottom\",\r\n          css: {\r\n            position: \"fixed\",\r\n            top: \"\",\r\n            bottom: \"0\",\r\n          },\r\n          //                    onScroll: function($el, offset, length)\r\n          onScroll: function ($el, offset, length) {\r\n            ih = $(\".scene.scene-2.mis-container img:first-child\").height();\r\n          }\r\n        },\r\n        {\r\n          alias: \"unfixing\",\r\n          from: \"con-top + \" + Math.ceil(ht * 1.5) + \" = bottom\",\r\n          to: \"doc-bottom\",\r\n          css: {\r\n            position: \"absolute\",\r\n            top: \"\",\r\n            bottom: \"0\",\r\n          },\r\n        },\r\n      ],\r\n      $(\".staging\")\r\n    );\r\n\r\n    $(\".staging-1 .scene-1\").scroolly(\r\n      [\r\n        {\r\n          // alias: \"before\",\r\n          // from: \"\",\r\n          to: \"con-top\",\r\n          css: {\r\n            top: \"216px\",\r\n          },\r\n          onScroll: function ($el, $ofs, length) {\r\n            $('.staging-1 .scene-2 img').css({ \"opacity\": \"0.001\" });\r\n          }\r\n        },\r\n        {\r\n          // alias: \"slide1\",\r\n          from: \"con-top\",\r\n          to: \"con-top + 500 = top\",\r\n          cssFrom: {\r\n            top: \"216px\",\r\n            transform: \"translateY(-1px)\",\r\n          },\r\n          cssTo: {\r\n            top: \"216px\",\r\n            transform: \"translateY(-\"+vh+\"px)\",\r\n          }\r\n        },\r\n      ],\r\n      $(\".staging-1\")\r\n    );\r\n\r\n\r\n    $(\".staging-1 .scene-2\").attr('style', \"transform: translateY(-0.01vh);\");\r\n    ih = $(\".scene.scene-2.mis-container img:first-child\").height();\r\n    var ofy = Math.ceil(vh/2 - 450 - ih/2);\r\n\r\n    $(\".staging-1 .scene-2\").scroolly(\r\n      [\r\n        {\r\n          from: \"con-top\",\r\n          to: \"con-top + 500 = top\",\r\n          cssFrom: {\r\n            transform: \"translateY(-0.01px)\",\r\n          },\r\n          cssTo: {\r\n            transform: \"translateY(-\"+ofy+\"px)\",\r\n          }\r\n        },\r\n      ],\r\n      $(\".staging-1\")\r\n    );\r\n\r\n\r\n    // Картинки //\r\n    if ($(window).width() > 767) {\r\n      var start = 400;\r\n      var stop = Math.ceil(ht / 2 - start);\r\n    } else {\r\n      var start = 0;\r\n      var stop = Math.ceil(ht) + start;\r\n    }\r\n    var images = $(\".staging-1 .scene-2 img\").length + 1;\r\n\r\n    offset = [];\r\n\r\n\r\n    for (i = 1; i <= images; i++) {\r\n      let os = Math.ceil((stop - start) / images);\r\n      offset[i] = start + os * (i + 1);\r\n      if (i !== 0) {\r\n        if (i + 1 <= images) {\r\n          $(\".staging-1 .scene-2 img:eq(\" + (i - 1) + \")\").scroolly([\r\n            {\r\n              from: \"con-top + \" + (offset[i - 1]) + \" = top\",\r\n              to: \"con-top + \" + (offset[i]) + \" = top\",\r\n              cssFrom: {\r\n                \"opacity\": \"0.999\",\r\n              },\r\n              cssTo: {\r\n                \"opacity\": \"0.001\",\r\n                \"z-index\": \"0\"\r\n              },\r\n              onScroll: function ($el, $ofs, length) {\r\n                $('.staging-1 .statistics__item').css({ \"opacity\": \"0\", \"transition\":\"translateY(24vh)\" });\r\n              }\r\n            }\r\n          ],\r\n            $(\".staging-1\")\r\n          );\r\n        }\r\n\r\n        $(\".staging-1 .scene-2 img:eq(\" + i + \")\").scroolly(\r\n          [\r\n            {\r\n              from: \"con-top + \" + (offset[i - 1] + 1) + \" = top\",\r\n              to: \"con-top + \" + (offset[i] + 1) + \" = top\",\r\n              cssFrom: {\r\n                \"opacity\": \"0.001\",\r\n                \"z-index\": 1 + i\r\n              },\r\n              cssTo: {\r\n                \"opacity\": \"0.999\",\r\n                \"z-index\": 1 + i\r\n              },\r\n            }\r\n          ],\r\n          $(\".staging-1\")\r\n        );\r\n      }\r\n    }\r\n    // ========= //\r\n\r\n\r\n    // Плашки //  \r\n    var height = $(\".staging-1 .statistics-1 .statistics__item:eq(0)\").height() * 2;\r\n    var off = height;\r\n    var top = stop;\r\n    var stop1;\r\n    var stop2;\r\n    var plates;\r\n    if ($(window).width() > 767) {\r\n      // первый блок плашек\r\n      plates = $('.staging-1 .statistics-1 .statistics__item').length;\r\n      for (i = 1; i <= plates; i++) {\r\n        let start = Math.ceil(top + (i *  height));\r\n        let stop = stop1 = start + height;\r\n        $(\".staging-1 .statistics-1 .statistics__item:eq(\" + (i - 1) + \")\").scroolly(\r\n          [\r\n            {\r\n              from: \"con-top + \" + start + \" = top\",\r\n              to: \"con-top + \" + stop + \" = top\",\r\n              cssFrom: {\r\n                transform: \"translateY(24vh)\",\r\n                opacity: \"0\"\r\n              },\r\n              cssTo: {\r\n                transform: \"translateY(1vh)\",\r\n                opacity: \"0.7\"\r\n              },\r\n              onScroll: function ($el, $ofs, length) {\r\n                if ($ofs <= 81) $('.staging-1 .scene-2 img').css({ \"opacity\": \"0.001\" });\r\n              }\r\n            }\r\n          ],\r\n          $(\".staging-1\")\r\n        );\r\n      }\r\n\r\n      // второй блок плашек\r\n      plates = $('.staging-1 .statistics-2 .statistics__item').length;\r\n      top = stop1 + height ;\r\n      for (i = 1; i <= plates; i++) {\r\n        let start = Math.ceil(top + (i * height));\r\n        let stop = stop2 = start + height;\r\n        $(\".staging-1 .statistics-2 .statistics__item:eq(\" + (i - 1) + \")\").scroolly(\r\n          [\r\n            {\r\n              from: \"con-top + \" + start + \" = top\",\r\n              to: \"con-top + \" + stop + \" = top\",\r\n              cssFrom: {\r\n                transform: \"translateY(24vh)\",\r\n                opacity: \"0\"\r\n              },\r\n              cssTo: {\r\n                transform: \"translateY(1vh)\",\r\n                opacity: \"0.7\"\r\n              },\r\n            }\r\n          ],\r\n          $(\".staging-1\")\r\n        );\r\n      }\r\n\r\n      // весь блок плашек наверх\r\n      let start = Math.ceil(stop1);\r\n      let stop = start + vh;\r\n      $(\".staging-1 .statistics-1\").scroolly(\r\n        [\r\n          {\r\n            from: \"con-top + \" + start + \" = top\",\r\n            to: \"con-top + \" + stop + \" = top\",\r\n            cssFrom: {\r\n              top: \"-0.000vh\",\r\n              opacity: \"0.999\"\r\n            },\r\n            cssTo: {\r\n              top: \"-24vh\",\r\n              opacity: \"0\"\r\n            },\r\n          }\r\n        ],\r\n        $(\".staging-1\")\r\n      );\r\n\r\n      start = Math.ceil(stop2 ) ;\r\n      stop = start + vh;\r\n      $(\".staging-1 .statistics-2\").scroolly(\r\n        [\r\n          {\r\n            from: \"con-top + \" + start + \" = top\",\r\n            to: \"con-top + \" + stop + \" = top\",\r\n            cssFrom: {\r\n              top: \"-0.000vh\",\r\n              opacity: \"0.999\"\r\n            },\r\n            cssTo: {\r\n              top: \"-24vh\",\r\n              opacity: \"0\"\r\n            },\r\n          }\r\n        ],\r\n        $(\".staging-1\")\r\n      );\r\n\r\n    } else {\r\n      var top = Math.ceil(vh / 2 - height / 2);\r\n      let offset = [];\r\n      let plates = $('.statistics.mis-container').find('.statistics__item').length;\r\n      let os = Math.ceil((ht - vh * 2) / plates);\r\n      offset[0] = top;\r\n      for (i = 1; i <= plates; i++) {\r\n        offset[i] = top + (os * i-1);\r\n        offset[i + 1] = offset[i] + os;\r\n        $('.statistics.mis-container').height(height);\r\n        $('.statistics.mis-container > div').height(height);\r\n        $('.statistics.mis-container .statistics__item').height(height);\r\n        $(\".staging-1 .statistics__item:eq(\" + (i - 1) + \")\").scroolly(\r\n          [\r\n            {\r\n              from: \"con-top + \" + (offset[i - 1]) + \" = top\",\r\n              to: \"con-top + \" + (offset[i]) + \" = top\",\r\n              cssFrom: {\r\n                \"top\": \"25.000vh\",\r\n                \"opacity\": \"0.001\"\r\n              },\r\n              cssTo: {\r\n                \"top\": \"-0.001vh\",\r\n                opacity: \"0.999\"\r\n              },\r\n            },\r\n            {\r\n              from: \"con-top + \" + (offset[i]) + \" = top\",\r\n              to: \"con-top + \" + (offset[i + 1]) + \" = top\",\r\n              cssFrom: {\r\n                \"top\": \"-0.001vh\",\r\n                \"opacity\": \"0.999\"\r\n              },\r\n              cssTo: {\r\n                \"top\": \"-20.001vh\",\r\n                \"opacity\": \"0.001\"\r\n              },\r\n            }\r\n          ],\r\n          $(\".staging-1\")\r\n        );\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n\r\n$(window).on('resize', function () {\r\n  if (Math.abs(width - $(window).width()) > width / 10) lunitInit();\r\n})\r\n\r\nsetTimeout(function () {\r\n  lunitInit();\r\n}, 400)"]}