{"version":3,"sources":["animation.js"],"names":["width","$","window","scrollTo","vw","lunitInit","height","ht","offset","scroolly","from","alias","css","position","to","bottom","onScroll","top","cssFrom","transform","vh","start","stop","ceil","Math","i","images","length","cssTo","os","opacity","z-index","log","plates","console","stop1","stop2","off","find","on","abs","setTimeout"],"mappings":"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","file":"animation.min.js","sourcesContent":["var width = $(window).width();\r\n\r\nvar lunitInit = function () {\r\n  window.scrollTo(0, 0);\r\n  var ht = 5000;\r\n  var vh = $(window).height();\r\n  var vw = $(window).width();\r\n  var ih // image height\r\n  var offset;\r\n  $('.qbody .staging ').height(ht);\r\n  if ($(window).width() > 0) {\r\n    $(\".to-fix\").scroolly(\r\n      [\r\n        {\r\n          alias: \"before\",\r\n          from: \"\",\r\n          to: \"con-top = top\",\r\n          css: {\r\n            position: \"static\",\r\n          },\r\n        },\r\n        {\r\n          alias: \"fixing\",\r\n          from: \"con-top = top\",\r\n          to: \"con-top + \" + ht + \" = bottom\",\r\n          css: {\r\n            position: \"fixed\",\r\n            top: \"\",\r\n            bottom: \"0\",\r\n          },\r\n          //                    onScroll: function($el, offset, length)\r\n          onScroll: function ($el, offset, length) {\r\n            ih = $(\".scene.scene-2.mis-container img:first-child\").height();\r\n          }\r\n        },\r\n        {\r\n          alias: \"unfixing\",\r\n          from: \"con-top + \" + ht + \" = bottom\",\r\n          to: \"doc-bottom\",\r\n          css: {\r\n            position: \"absolute\",\r\n            top: \"\",\r\n            bottom: \"0\",\r\n          },\r\n        },\r\n      ],\r\n      $(\".staging\")\r\n    );\r\n\r\n    $(\".staging-1 .scene-1\").scroolly(\r\n      [\r\n        {\r\n          // alias: \"before\",\r\n          // from: \"\",\r\n          to: \"con-top\",\r\n          css: {\r\n            top: \"216px\",\r\n          },\r\n        },\r\n        {\r\n          // alias: \"slide1\",\r\n          from: \"con-top\",\r\n          to: \"con-top + 500 = top\",\r\n          cssFrom: {\r\n            top: \"216px\",\r\n            transform: \"translateY(-1px)\",\r\n          },\r\n          cssTo: {\r\n            top: \"216px\",\r\n            transform: \"translateY(-\"+vh+\"px)\",\r\n          },\r\n        },\r\n      ],\r\n      $(\".staging-1\")\r\n    );\r\n\r\n    offset = 55;\r\n    $(window).width() > 767 ? offset = 37 : null;\r\n    $(window).width() > 1425 ? offset = 50 : null;\r\n    $(window).height() > 800 ? offset = 25 : null;\r\n    $(window).height() > 1000 ? offset = 0 : null;\r\n    if ($(window).width() < 768) {\r\n      vh >= 499 ? offset = 70 : null;\r\n      vh >= 560 ? offset = 55 : null;\r\n      vh >= 610 ? offset = 48 : null;\r\n      vh >= 660 ? offset = 40 : null;\r\n      vh >= 690 ? offset = 25 : null;\r\n      vh >= 730 ? offset = 30 : null;\r\n      vh >= 810 ? offset = 26 : null;\r\n      vh >= 900 ? offset = 15 : null;\r\n      vh >= 950 ? offset = 10 : null;\r\n      vh >= 1000 ? offset = 5 : null;\r\n      vh >= 1100 ? offset = 3 : null;\r\n      vh >= 1200 ? offset = 2 : null;\r\n      vh >= 1300 ? offset = 0 : null;\r\n    }\r\n    /*\r\n    1000 = -18\r\n    736 = -30 2.18\r\n    667 = -40 2.11\r\n    568 = - 55 2.18\r\n    500 = -70\r\n    */\r\n    $(\".staging-1 .scene-2\").scroolly(\r\n      [\r\n        {\r\n          from: \"con-top\",\r\n          to: \"con-top + 500 = top\",\r\n          cssFrom: {\r\n            top: \"37vh\",\r\n            transform: \"translateY(-0.01vh)\",\r\n          },\r\n          cssTo: {\r\n            top: \"37vh\",\r\n            transform: \"translateY(-\"+offset+\"vh)\",\r\n          },\r\n        },\r\n      ],\r\n      $(\".staging-1\")\r\n    );\r\n\r\n\r\n    // Картинки //\r\n    if ($(window).width() > 767) {\r\n      var start = 400;\r\n      var stop = Math.ceil(ht / 2 - start);\r\n    } else {\r\n      var start = 0;\r\n      var stop = Math.ceil(ht);\r\n    }\r\n    var images = $(\".staging-1 .scene-2 img\").length + 1;\r\n    offset = [];\r\n\r\n\r\n    for (i = 1; i <= images; i++) {\r\n      let os = Math.ceil((stop - start) / images);\r\n      offset[i] = start + os * (i + 1);\r\n      if (i !== 0) {\r\n        if (i + 1 <= images) {\r\n          $(\".staging-1 .scene-2 img:eq(\" + (i - 1) + \")\").scroolly([\r\n            {\r\n              from: \"con-top + \" + (offset[i - 1]) + \" = top\",\r\n              to: \"con-top + \" + (offset[i]) + \" = top\",\r\n              cssFrom: {\r\n                \"opacity\": \"0.999\",\r\n              },\r\n              cssTo: {\r\n                \"opacity\": \"0.001\",\r\n                \"z-index\": \"0\"\r\n              },\r\n            }\r\n          ],\r\n            $(\".staging-1\")\r\n          );\r\n        }\r\n\r\n        $(\".staging-1 .scene-2 img:eq(\" + i + \")\").scroolly(\r\n          [\r\n            {\r\n              from: \"con-top + \" + (offset[i - 1]) + \" = top\",\r\n              to: \"con-top + \" + (offset[i]) + \" = top\",\r\n              cssFrom: {\r\n                \"opacity\": \"0.001\",\r\n                \"z-index\": 1 + i\r\n              },\r\n              cssTo: {\r\n                \"opacity\": \"0.999\",\r\n                \"z-index\": 1 + i\r\n              },\r\n            },\r\n            {\r\n              from: \"con-top + \" + (offset[i + 1]) + 1 + \" = top\",\r\n              to: \"con-top + \" + (offset[i + 1] + 2) + \" = top\",\r\n              cssFrom: {\r\n                \"opacity\": \"0.999\",\r\n              },\r\n              cssTo: {\r\n                \"opacity\": \"0.001\",\r\n              },\r\n            }\r\n\r\n          ],\r\n          $(\".staging-1\")\r\n        );\r\n      }\r\n    }\r\n    // ========= //\r\n\r\n\r\n    // Плашки //  \r\n    var height = $(\".staging-1 .statistics-1 .statistics__item:eq(0)\").height();\r\n    console.log(height);\r\n    var off = stop;\r\n    var top = Math.ceil(ht / 2.5);\r\n    var stop1;\r\n    var stop2;\r\n    var plates;\r\n    if ($(window).width() > 767) {\r\n      // первый блок плашек\r\n      plates = $('.staging-1 .statistics-1 .statistics__item').length;\r\n      for (i = 1; i <= plates; i++) {\r\n        let start = Math.ceil(top + (i * ((ht / 2.5 - off) / plates)));\r\n        let stop = stop1 = start + height;\r\n        $(\".staging-1 .statistics-1 .statistics__item:eq(\" + (i - 1) + \")\").scroolly(\r\n          [\r\n            {\r\n              from: \"con-top + \" + start + \" = top\",\r\n              to: \"con-top + \" + stop + \" = top\",\r\n              cssFrom: {\r\n                transform: \"translateY(24vh)\",\r\n                opacity: \"0\"\r\n              },\r\n              cssTo: {\r\n                transform: \"translateY(1vh)\",\r\n                opacity: \"0.7\"\r\n              },\r\n            }\r\n          ],\r\n          $(\".staging-1\")\r\n        );\r\n      }\r\n\r\n      // второй блок плашек\r\n      plates = $('.staging-1 .statistics-2 .statistics__item').length;\r\n      top = stop1 + vh;\r\n      for (i = 1; i <= plates; i++) {\r\n        let start = Math.ceil(top + (i * ((ht / 2.5 - off) / plates)));\r\n        let stop = stop2 = Math.ceil(start + height * 1.2);\r\n        $(\".staging-1 .statistics-2 .statistics__item:eq(\" + (i - 1) + \")\").scroolly(\r\n          [\r\n            {\r\n              from: \"con-top + \" + start + \" = top\",\r\n              to: \"con-top + \" + stop + \" = top\",\r\n              cssFrom: {\r\n                transform: \"translateY(24vh)\",\r\n                opacity: \"0\"\r\n              },\r\n              cssTo: {\r\n                transform: \"translateY(1vh)\",\r\n                opacity: \"0.7\"\r\n              },\r\n            }\r\n          ],\r\n          $(\".staging-1\")\r\n        );\r\n      }\r\n\r\n      // весь блок плашек наверх\r\n      let start = Math.ceil(stop1 ) + vh;\r\n      let stop = start + vh;\r\n      $(\".staging-1 .statistics-1\").scroolly(\r\n        [\r\n          {\r\n            from: \"con-top + \" + start + \" = top\",\r\n            to: \"con-top + \" + stop + \" = top\",\r\n            cssFrom: {\r\n              top: \"-0.000vh\",\r\n              opacity: \"0.999\"\r\n            },\r\n            cssTo: {\r\n              top: \"-24vh\",\r\n              opacity: \"0\"\r\n            },\r\n          }\r\n        ],\r\n        $(\".staging-1\")\r\n      );\r\n\r\n      start = Math.ceil(stop2 ) + vh;\r\n      stop = start + vh;\r\n      $(\".staging-1 .statistics-2\").scroolly(\r\n        [\r\n          {\r\n            from: \"con-top + \" + start + \" = top\",\r\n            to: \"con-top + \" + stop + \" = top\",\r\n            cssFrom: {\r\n              top: \"-0.000vh\",\r\n              opacity: \"0.999\"\r\n            },\r\n            cssTo: {\r\n              top: \"-24vh\",\r\n              opacity: \"0\"\r\n            },\r\n          }\r\n        ],\r\n        $(\".staging-1\")\r\n      );\r\n\r\n    } else {\r\n      var top = Math.ceil(ht - vh);\r\n      top = vh;\r\n      let offset = [];\r\n      let plates = $('.statistics.mis-container').find('.statistics__item').length;\r\n      let os = Math.ceil((ht - top - vh) / plates);\r\n      offset[0] = top;\r\n      for (i = 1; i <= plates; i++) {\r\n        offset[i] = top + (os * i);\r\n        offset[i + 1] = offset[i] + os;\r\n        $('.statistics.mis-container').height(height);\r\n        $('.statistics.mis-container > div').height(height);\r\n        $('.statistics.mis-container .statistics__item').height(height);\r\n        $(\".staging-1 .statistics__item:eq(\" + (i - 1) + \")\").scroolly(\r\n          [\r\n            {\r\n              from: \"con-top + \" + (offset[i - 1]) + \" = top\",\r\n              to: \"con-top + \" + (offset[i]) + \" = top\",\r\n              cssFrom: {\r\n                \"top\": \"25.000vh\",\r\n                \"opacity\": \"0.001\"\r\n              },\r\n              cssTo: {\r\n                \"top\": \"-0.001vh\",\r\n                opacity: \"0.999\"\r\n              },\r\n            },\r\n            {\r\n              from: \"con-top + \" + (offset[i]) + \" = top\",\r\n              to: \"con-top + \" + (offset[i + 1]) + \" = top\",\r\n              cssFrom: {\r\n                \"top\": \"-0.001vh\",\r\n                \"opacity\": \"0.999\"\r\n              },\r\n              cssTo: {\r\n                \"top\": \"-20.001vh\",\r\n                \"opacity\": \"0.001\"\r\n              },\r\n            }\r\n          ],\r\n          $(\".staging-1\")\r\n        );\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n\r\n$(window).on('resize', function () {\r\n  if (Math.abs(width - $(window).width()) > width / 10) lunitInit();\r\n})\r\n\r\nsetTimeout(function () {\r\n  lunitInit();\r\n}, 400)"]}