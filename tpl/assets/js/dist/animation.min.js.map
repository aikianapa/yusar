{"version":3,"sources":["animation.js"],"names":["width","$","window","scrollTo","vw","lunitInit","height","ht","offset","from","scroolly","alias","to","css","position","top","bottom","onScroll","Math","ceil","cssFrom","cssTo","transform","vh","attr","stop","start","images","length","i","os","opacity","z-index","transition","stop1","stop2","plates","$el","$ofs","find","on","setTimeout","abs"],"mappings":"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","file":"animation.min.js","sourcesContent":["var width = $(window).width();\r\n\r\nvar lunitInit = function () {\r\n  window.scrollTo(0, 0);\r\n  var ht = 5000;\r\n  var vh = $(window).height();\r\n  var vw = $(window).width();\r\n  var ih = $(\".scene.scene-2.mis-container img:first-child\").height();\r\n  var offset;\r\n  $('.qbody .staging ').height(ht);\r\n  if ($(window).width() > 0) {\r\n    $(\".to-fix\").scroolly(\r\n      [\r\n        {\r\n          alias: \"before\",\r\n          from: \"\",\r\n          to: \"con-top = top\",\r\n          css: {\r\n            position: \"static\",\r\n          },\r\n        },\r\n        {\r\n          alias: \"fixing\",\r\n          from: \"con-top = top\",\r\n          to: \"con-top + \" + ht + \" = bottom\",\r\n          css: {\r\n            position: \"fixed\",\r\n            top: \"\",\r\n            bottom: \"0\",\r\n          },\r\n          //                    onScroll: function($el, offset, length)\r\n          onScroll: function ($el, offset, length) {\r\n            ih = $(\".scene.scene-2.mis-container img:first-child\").height();\r\n          }\r\n        },\r\n        {\r\n          alias: \"unfixing\",\r\n          from: \"con-top + \" + Math.ceil(ht * 1.5) + \" = bottom\",\r\n          to: \"doc-bottom\",\r\n          css: {\r\n            position: \"absolute\",\r\n            top: \"\",\r\n            bottom: \"0\",\r\n          },\r\n        },\r\n      ],\r\n      $(\".staging\")\r\n    );\r\n\r\n    $(\".staging-1 .scene-1\").scroolly(\r\n      [\r\n        {\r\n          // alias: \"before\",\r\n          // from: \"\",\r\n          to: \"con-top\",\r\n          css: {\r\n            top: \"216px\",\r\n          },\r\n        },\r\n        {\r\n          // alias: \"slide1\",\r\n          from: \"con-top\",\r\n          to: \"con-top + 500 = top\",\r\n          cssFrom: {\r\n            top: \"216px\",\r\n            transform: \"translateY(-1px)\",\r\n          },\r\n          cssTo: {\r\n            top: \"216px\",\r\n            transform: \"translateY(-\"+vh+\"px)\",\r\n          },\r\n        },\r\n      ],\r\n      $(\".staging-1\")\r\n    );\r\n\r\n    offset = 55;\r\n    $(window).width() > 767 ? offset = 37 : null;\r\n    $(window).width() > 1425 ? offset = 50 : null;\r\n    $(window).height() > 800 ? offset = 25 : null;\r\n    $(window).height() > 1000 ? offset = 0 : null;\r\n    if ($(window).width() < 768) {\r\n      vh >= 499 ? offset = 70 : null;\r\n      vh >= 560 ? offset = 55 : null;\r\n      vh >= 610 ? offset = 48 : null;\r\n      vh >= 660 ? offset = 40 : null;\r\n      vh >= 690 ? offset = 25 : null;\r\n      vh >= 730 ? offset = 30 : null;\r\n      vh >= 810 ? offset = 26 : null;\r\n      vh >= 900 ? offset = 15 : null;\r\n      vh >= 950 ? offset = 10 : null;\r\n      vh >= 1000 ? offset = 5 : null;\r\n      vh >= 1100 ? offset = 3 : null;\r\n      vh >= 1200 ? offset = 2 : null;\r\n      vh >= 1300 ? offset = 0 : null;\r\n    }\r\n\r\n\r\n    $(\".staging-1 .scene-2\").attr('style', \"top: 37vh; transform: translateY(-0.01vh);\");\r\n    $(\".staging-1 .scene-2\").scroolly(\r\n      [\r\n        {\r\n          from: \"con-top\",\r\n          to: \"con-top + 500 = top\",\r\n          cssFrom: {\r\n            top: \"37vh\",\r\n            transform: \"translateY(-0.01vh)\",\r\n          },\r\n          cssTo: {\r\n            top: \"37vh\",\r\n            transform: \"translateY(-\"+offset+\"vh)\",\r\n          },\r\n        },\r\n      ],\r\n      $(\".staging-1\")\r\n    );\r\n\r\n\r\n    // Картинки //\r\n    if ($(window).width() > 767) {\r\n      var start = 400;\r\n      var stop = Math.ceil(ht / 2 - start);\r\n    } else {\r\n      var start = 0;\r\n      var stop = Math.ceil(ht) + start;\r\n    }\r\n    var images = $(\".staging-1 .scene-2 img\").length + 1;\r\n    $(\".staging-1 .scene-2 img:eq(0)\").css('opacity','0.999');\r\n    offset = [];\r\n\r\n\r\n    for (i = 1; i <= images; i++) {\r\n      let os = Math.ceil((stop - start) / images);\r\n      offset[i] = start + os * (i + 1);\r\n      if (i !== 0) {\r\n        if (i + 1 <= images) {\r\n          $(\".staging-1 .scene-2 img:eq(\" + (i - 1) + \")\").scroolly([\r\n            {\r\n              from: \"con-top + \" + (offset[i - 1]) + \" = top\",\r\n              to: \"con-top + \" + (offset[i]) + \" = top\",\r\n              cssFrom: {\r\n                \"opacity\": \"0.999\",\r\n              },\r\n              cssTo: {\r\n                \"opacity\": \"0.001\",\r\n                \"z-index\": \"0\"\r\n              },\r\n              onScroll: function ($el, $ofs, length) {\r\n                $('.staging-1 .statistics__item').css({ \"opacity\": \"0\", \"transition\":\"translateY(24vh)\" });\r\n              }\r\n            }\r\n          ],\r\n            $(\".staging-1\")\r\n          );\r\n        }\r\n\r\n        $(\".staging-1 .scene-2 img:eq(\" + i + \")\").scroolly(\r\n          [\r\n            {\r\n              from: \"con-top + \" + (offset[i - 1] + 1) + \" = top\",\r\n              to: \"con-top + \" + (offset[i] + 1) + \" = top\",\r\n              cssFrom: {\r\n                \"opacity\": \"0.001\",\r\n                \"z-index\": 1 + i\r\n              },\r\n              cssTo: {\r\n                \"opacity\": \"0.999\",\r\n                \"z-index\": 1 + i\r\n              },\r\n            }\r\n          ],\r\n          $(\".staging-1\")\r\n        );\r\n      }\r\n    }\r\n    // ========= //\r\n\r\n\r\n    // Плашки //  \r\n    var height = $(\".staging-1 .statistics-1 .statistics__item:eq(0)\").height();\r\n    var off = height;\r\n    var top = stop;\r\n    var stop1;\r\n    var stop2;\r\n    var plates;\r\n    if ($(window).width() > 767) {\r\n      // первый блок плашек\r\n      plates = $('.staging-1 .statistics-1 .statistics__item').length;\r\n      for (i = 1; i <= plates; i++) {\r\n        let start = Math.ceil(top + (i *  height));\r\n        let stop = stop1 = start + height;\r\n        $(\".staging-1 .statistics-1 .statistics__item:eq(\" + (i - 1) + \")\").scroolly(\r\n          [\r\n            {\r\n              from: \"con-top + \" + start + \" = top\",\r\n              to: \"con-top + \" + stop + \" = top\",\r\n              cssFrom: {\r\n                transform: \"translateY(24vh)\",\r\n                opacity: \"0\"\r\n              },\r\n              cssTo: {\r\n                transform: \"translateY(1vh)\",\r\n                opacity: \"0.7\"\r\n              },\r\n              onScroll: function ($el, $ofs, length) {\r\n                if ($ofs <= 81) $('.staging-1 .scene-2 img').css({ \"opacity\": \"0.001\" });\r\n              }\r\n\r\n            }\r\n          ],\r\n          $(\".staging-1\")\r\n        );\r\n      }\r\n\r\n      // второй блок плашек\r\n      plates = $('.staging-1 .statistics-2 .statistics__item').length;\r\n      top = stop1 + height ;\r\n      for (i = 1; i <= plates; i++) {\r\n        let start = Math.ceil(top + (i * height));\r\n        let stop = stop2 = start + height;\r\n        $(\".staging-1 .statistics-2 .statistics__item:eq(\" + (i - 1) + \")\").scroolly(\r\n          [\r\n            {\r\n              from: \"con-top + \" + start + \" = top\",\r\n              to: \"con-top + \" + stop + \" = top\",\r\n              cssFrom: {\r\n                transform: \"translateY(24vh)\",\r\n                opacity: \"0\"\r\n              },\r\n              cssTo: {\r\n                transform: \"translateY(1vh)\",\r\n                opacity: \"0.7\"\r\n              },\r\n            }\r\n          ],\r\n          $(\".staging-1\")\r\n        );\r\n      }\r\n\r\n      // весь блок плашек наверх\r\n      let start = Math.ceil(stop1);\r\n      let stop = start + vh;\r\n      $(\".staging-1 .statistics-1\").scroolly(\r\n        [\r\n          {\r\n            from: \"con-top + \" + start + \" = top\",\r\n            to: \"con-top + \" + stop + \" = top\",\r\n            cssFrom: {\r\n              top: \"-0.000vh\",\r\n              opacity: \"0.999\"\r\n            },\r\n            cssTo: {\r\n              top: \"-24vh\",\r\n              opacity: \"0\"\r\n            },\r\n          }\r\n        ],\r\n        $(\".staging-1\")\r\n      );\r\n\r\n      start = Math.ceil(stop2 ) ;\r\n      stop = start + vh;\r\n      $(\".staging-1 .statistics-2\").scroolly(\r\n        [\r\n          {\r\n            from: \"con-top + \" + start + \" = top\",\r\n            to: \"con-top + \" + stop + \" = top\",\r\n            cssFrom: {\r\n              top: \"-0.000vh\",\r\n              opacity: \"0.999\"\r\n            },\r\n            cssTo: {\r\n              top: \"-24vh\",\r\n              opacity: \"0\"\r\n            },\r\n          }\r\n        ],\r\n        $(\".staging-1\")\r\n      );\r\n\r\n    } else {\r\n      var top = Math.ceil(ht - vh);\r\n      top = vh;\r\n      let offset = [];\r\n      let plates = $('.statistics.mis-container').find('.statistics__item').length;\r\n      let os = Math.ceil((ht - top - vh) / plates);\r\n      offset[0] = top;\r\n      for (i = 1; i <= plates; i++) {\r\n        offset[i] = top + (os * i);\r\n        offset[i + 1] = offset[i] + os;\r\n        $('.statistics.mis-container').height(height);\r\n        $('.statistics.mis-container > div').height(height);\r\n        $('.statistics.mis-container .statistics__item').height(height);\r\n        $(\".staging-1 .statistics__item:eq(\" + (i - 1) + \")\").scroolly(\r\n          [\r\n            {\r\n              from: \"con-top + \" + (offset[i - 1]) + \" = top\",\r\n              to: \"con-top + \" + (offset[i]) + \" = top\",\r\n              cssFrom: {\r\n                \"top\": \"25.000vh\",\r\n                \"opacity\": \"0.001\"\r\n              },\r\n              cssTo: {\r\n                \"top\": \"-0.001vh\",\r\n                opacity: \"0.999\"\r\n              },\r\n            },\r\n            {\r\n              from: \"con-top + \" + (offset[i]) + \" = top\",\r\n              to: \"con-top + \" + (offset[i + 1]) + \" = top\",\r\n              cssFrom: {\r\n                \"top\": \"-0.001vh\",\r\n                \"opacity\": \"0.999\"\r\n              },\r\n              cssTo: {\r\n                \"top\": \"-20.001vh\",\r\n                \"opacity\": \"0.001\"\r\n              },\r\n            }\r\n          ],\r\n          $(\".staging-1\")\r\n        );\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n\r\n$(window).on('resize', function () {\r\n  if (Math.abs(width - $(window).width()) > width / 10) lunitInit();\r\n})\r\n\r\nsetTimeout(function () {\r\n  lunitInit();\r\n}, 400)"]}